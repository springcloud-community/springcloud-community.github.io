<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Tencent officially opens source Spring Cloud Tencent, creating a one-stop microservices solution - Spring Cloud</title>
  

<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes"/>

<meta name="MobileOptimized" content="width"/>
<meta name="HandheldFriendly" content="true"/>


<meta name="applicable-device" content="pc,mobile">

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="mobile-web-app-capable" content="yes">

<meta name="description" content="Recently, Spring Cloud Tencent was officially open sourced on June 14." />
<meta name="keywords" content="Spring Cloud Tencent" />







<meta name="generator" content="Hugo 0.96.0" />


<link rel="canonical" href="https://www.springcloud.io/post/2022-06/spring-cloud-tencent/" />





<link rel="icon" href="/favicon.ico" />











<link rel="stylesheet" href="/sass/jane.min.fa4b2b9f31b5c6d0b683db81157a9226e17b06e61911791ab547242a4a0556f2.css" integrity="sha256-&#43;ksrnzG1xtC2g9uBFXqSJuF7BuYZEXkatUckKkoFVvI=" media="screen" crossorigin="anonymous">





<meta property="og:title" content="Tencent officially opens source Spring Cloud Tencent, creating a one-stop microservices solution" />
<meta property="og:description" content="Recently, Spring Cloud Tencent was officially open sourced on June 14." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.springcloud.io/post/2022-06/spring-cloud-tencent/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-06-21T16:50:15+08:00" />
<meta property="article:modified_time" content="2022-06-21T16:50:15+08:00" />

<meta itemprop="name" content="Tencent officially opens source Spring Cloud Tencent, creating a one-stop microservices solution">
<meta itemprop="description" content="Recently, Spring Cloud Tencent was officially open sourced on June 14."><meta itemprop="datePublished" content="2022-06-21T16:50:15+08:00" />
<meta itemprop="dateModified" content="2022-06-21T16:50:15+08:00" />
<meta itemprop="wordCount" content="3019">
<meta itemprop="keywords" content="spring-cloud-tencent," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tencent officially opens source Spring Cloud Tencent, creating a one-stop microservices solution"/>
<meta name="twitter:description" content="Recently, Spring Cloud Tencent was officially open sourced on June 14."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->





<script async src="https://www.googletagmanager.com/gtag/js?id=G-N9WSHEG9H6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-N9WSHEG9H6');
</script>



 
 <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761"
     crossorigin="anonymous"></script>


</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Spring Cloud</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/">Home</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/post/">Archives</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/tags/">Tags</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/categories/">Categories</a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://forum.springcloud.io" rel="noopener" target="_blank">
              Forum
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          
        
      </li><li class="mobile-menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/about/">About</a>
          
        
      </li>
    

    
      <li class="mobile-menu-item">
        <a id="openSearchMobile" class="mobile-menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>


  
    






  <link rel="stylesheet" href="/lib/photoswipe/photoswipe.min.css" />
  <link rel="stylesheet" href="/lib/photoswipe/default-skin/default-skin.min.css" />




<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

  

  
    
<div class="modal-dialog">
    
    <div class="modal-content">
      <div id="closeSearch" title="Close" class="close">X</div>
      <div class="modal-header">
        <div class="modal-title">Search</div>
      </div>
      <div class="modal-body">
          <script>
            (function() {
              var cx = 'b3ac69fdeaebb32a4';
              var gcse = document.createElement('script');
              gcse.type = 'text/javascript';
              gcse.async = true;
              gcse.src = (document.location.protocol == 'https:' ? 'https:' :
                  'http:') +
                '//cse.google.com/cse.js?cx=' + cx;
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          <gcse:search></gcse:search>
      </div>
    </div>
</div>

  

  

  <header id="header" class="header container">
    <div class="logo-wrapper">
  <a href="/" class="logo">
    
      Spring Cloud
    
  </a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/">Home</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/post/">Archives</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/tags/">Tags</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/categories/">Categories</a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://forum.springcloud.io" rel="noopener" target="_blank">
              Forum
              
              <i class="iconfont">
                <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92 0 0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"></path>
  <path d="M841.152 457.152c-30.528 0-54.784 24.512-54.784 54.656l0 274.752L237.696 786.56 237.696 237.696l206.016 0c6.656 0 10.752 0 13.248 0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128L183.04 128C153.216 128 128 152.576 128 182.848c0 3.136 0.256 6.272 0.768 9.28C128.256 195.136 128 198.272 128 201.408l0 639.488c0 0.064 0 0.192 0 0.256 0 0.128 0 0.192 0 0.32 0 30.528 24.512 54.784 54.784 54.784l646.976 0c6.592 0 9.728 0 11.712 0 28.736 0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344l0-20.352L896 561.408 896 512.128C896 481.792 871.424 457.152 841.152 457.152z"></path>
</svg>

              </i>
            </a>
          

        

      </li>
    
        <li class="menu-item">
        
          
          
            <a class="menu-item-link" href="https://www.springcloud.io/about/">About</a>
          

        

      </li>
    

    
    

    
      <li class="menu-item">
        <a id="openSearch" class="menu-item-link menu-item-search" href="#">
          <i class="iconfont">
            <svg version="1.1" viewBox="0 0 1024 1024"
  xmlns="http://www.w3.org/2000/svg" width="18" height="18"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M973.81454219 973.81454219a91.78207815 91.78207815 0 0 1-129.80999631 0l-161.97482118-161.97482118a425.48527711 425.48527711 0 0 1-230.35931791 68.16531768 428.3346319 428.3346319 0 1 1 428.3346319-428.3346319 425.48527711 425.48527711 0 0 1-68.16531768 230.35931791l162.02961656 161.97482118a91.83687354 91.83687354 0 0 1-0.05479538 129.80999631zM451.67040679 145.69361559a305.97679241 305.97679241 0 1 0 0 611.95358361 305.97679241 305.97679241 0 0 0 0-611.95358361z">
  </path>
</svg>

          </i>
        </a>
      </li>
    
  </ul>
</nav>

  </header>

  <div id="mobile-panel">
    <main id="main" class="main bg-llight">
      <div class="content-wrapper">
        <div id="content" class="content container">
          <article class="post bg-white">
    
    <header class="post-header">
      <h1 class="post-title">Tencent officially opens source Spring Cloud Tencent, creating a one-stop microservices solution</h1>
      
      <div class="post-meta">
        <time datetime="2022-06-21" class="post-time">
          2022-06-21
        </time>
        <div class="post-category">
            <a href="https://www.springcloud.io/categories/news/"> news </a>
            
          </div>
        <span class="more-meta"> 3019 words </span>
          <span class="more-meta"> 15 min read </span>

        
        

        
        
      </div>
    </header>

    
    
<div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Table of Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-why-spring-cloud-tencent">1. Why Spring Cloud Tencent</a>
      <ul>
        <li><a href="#spring-boot--spring-cloud-is-still-the-most-dominant-framework-in-the-java-ecosystem">Spring Boot + Spring Cloud is still the most dominant framework in the Java ecosystem</a></li>
      </ul>
    </li>
    <li><a href="#2-spring-cloud-tencent-module-details">2. Spring Cloud Tencent Module Details</a>
      <ul>
        <li><a href="#21-service-registration-and-discovery-spring-cloud-tencent-polaris-discovery">2.1 Service Registration and Discovery (Spring Cloud Tencent Polaris Discovery)</a></li>
        <li><a href="#22-configuration-center-spring-cloud-tencent-polaris-config">2.2 Configuration Center (Spring Cloud Tencent Polaris Config)</a></li>
        <li><a href="#23-service-routing-spring-cloud-tencent-polaris-router">2.3 Service Routing (Spring Cloud Tencent Polaris Router)</a></li>
        <li><a href="#24-service-flow-limiting-spring-cloud-tencent-polaris-ratelimit">2.4 Service Flow Limiting (Spring Cloud Tencent Polaris Ratelimit)</a></li>
        <li><a href="#25-service-circuitbreaker-spring-cloud-tencent-polaris-circuitbreaker">2.5 Service Circuitbreaker (Spring Cloud Tencent Polaris Circuitbreaker)</a></li>
      </ul>
    </li>
    <li><a href="#3-planning-and-vision">3. Planning and Vision</a></li>
  </ul>
</nav>
  </div>
</div>

    
    <div class="post-content">
      <p>Recently, <a href="https://github.com/Tencent/spring-cloud-tencent">Spring Cloud Tencent</a> was officially open sourced on June 14, as Tencent&rsquo;s open source one-stop microservice framework, Spring Cloud Tencent implements Spring Cloud standard microservice SPI, developers can quickly develop Spring Cloud microservice architecture applications based on Spring Cloud Tencent. As Tencent&rsquo;s open source one-stop microservice framework, Spring Cloud Tencent implements the Spring Cloud standard microservice SPI, which allows developers to quickly develop Spring Cloud microservice architecture applications based on Spring Cloud Tencent. The core of Spring Cloud Tencent relies on Tencent&rsquo;s open source one-stop service discovery and governance platform <a href="https://github.com/polarismesh/polaris">PolarisMesh</a> to implement various distributed microservice scenarios.</p>
<h2 id="1-why-spring-cloud-tencent">1. Why Spring Cloud Tencent</h2>
<h3 id="spring-boot--spring-cloud-is-still-the-most-dominant-framework-in-the-java-ecosystem">Spring Boot + Spring Cloud is still the most dominant framework in the Java ecosystem</h3>
<p>Spring Boot released version 1.0 in April 2014 and after 8 years of development, Spring Boot has become the de facto standard for Java development frameworks. In the area of distributed microservices, Spring Cloud was released in January 2016 as Angel.SR5. Spring Cloud inherits the core idea of Spring Boot&rsquo;s core component-based, low-configuration, rapid integration and defines a standard microservices SPI on which Spring Cloud Netfix and other excellent microservice solution implementation suites. In terms of remote service invocation frameworks, Feign and RestTemplate are based on the pervasive HTTP protocol and have natural advantages in terms of ease of use, observability, and cross-language. That&rsquo;s why Spring Cloud has flourished since its first release in 2016.</p>
<p>From an industry perspective, Spring Boot + Spring Cloud is one of the most widely used development frameworks for Java today.</p>
<p>ServiceMesh, represented by Istio, started to incubate in the community in 2018, and by 2022 there will be a very large number of ServiceMesh products.The core idea of ServiceMesh is to sink the underlying capabilities related to service invocation to a separate Sidecar process that governs traffic by means of a traffic proxy. No solution is a panacea, and the Sidecar model has some problems. For example, Sidecar is highly dependent on the underlying Paas capabilities to govern Sidecar (injection, version management, upgrade, etc.), Sidecar requires extra resources, increases network latency, and makes troubleshooting more difficult. Therefore, there are not many companies that can really implement ServiceMesh.</p>
<p>To sum up, we think Spring Boot + Spring Cloud will remain the mainstream microservice solution for Java for a long time, although it does not look as advanced as Istio and Dapr. In the premise of meeting the business development requirements of enterprises, the best solution is a low-cost, efficient and stable architecture.</p>
<h4 id="tencents-polarismesh-open-source-in-2021-provides-a-one-stop-microservice-solution">Tencent&rsquo;s PolarisMesh open source in 2021 provides a one-stop microservice solution</h4>
<p>PolarisMesh is a one-stop microservice solution that integrates registration center, configuration center, and service governance center. It has covered 90% of Tencent&rsquo;s business internally, and the number of registered instance nodes has reached 5 million. After 21 years of open source, it has been produced and landed in the community by external companies.</p>
<p>In-house architects often make technology selections, such as Zookeeper, Consul, Nacos for registry, Apollo, Nacos for configuration center, Sentinel for flow restriction and Circuit Breaker. Multiple components also mean that multiple services need to be maintained, taking up more resources and making it difficult to achieve consistency in user experience.</p>
<p>So a one-stop microservices solution can greatly simplify technology selection, operations and maintenance, and resource costs. Of course, you can also use Polaris as part of the solution, for example, only use Polaris&rsquo; service registration discovery, and still choose Apollo as the configuration center. After all, there is no one-size-fits-all solution, and the best solution is the one that suits your business requirements.</p>
<p>In addition, Polaris has certain advantages in certain capabilities in horizontal comparison. For example, the completely stateless registry is easier to operate and maintain, and the powerful service routing capability supports complex business scenarios. Specific product features will be described in more detail in Part II.</p>
<h4 id="summary">Summary</h4>
<p>For these two core reasons, it is logical to use Polaris as an out-of-the-box implementation kit for Spring Cloud. It can satisfy both Spring Cloud users and Polaris Java users. Of course, Spring Cloud Tencent currently only docks the capabilities of Polaris, and will subsequently support more of Tencent&rsquo;s excellent open source products.</p>
<h2 id="2-spring-cloud-tencent-module-details">2. Spring Cloud Tencent Module Details</h2>
<p>Currently, Spring Cloud Tencent mainly provides the common service registration and discovery, configuration center, service routing, flow restriction and Circuit Breaker, and metadata link pass-through capabilities in microservices. Each part of the capabilities will be described in detail in the next section.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/6c67996d00734870b370d898933b8bab.png" alt="Spring Cloud Tencent&amp;rsquo;s Capabilities"></p>
<h3 id="21-service-registration-and-discovery-spring-cloud-tencent-polaris-discovery">2.1 Service Registration and Discovery (Spring Cloud Tencent Polaris Discovery)</h3>
<p>Service registration and discovery is one of the core features of Spring Cloud Tencent, providing microservice applications with fast access to the Polaris service registry by implementing Spring Cloud&rsquo;s standard interface for service registration and discovery. Developers can use Polaris&rsquo; service registration and discovery capabilities by simply introducing Spring Cloud Tencent service registration and discovery dependencies. After accessing service registration and discovery, you can also use the powerful service governance capabilities provided by Polaris on demand, such as scenario-based service routing capabilities, service circuit breaker capabilities, and more. It is easy for developers to make personalized service governance configurations for actual production scenarios of microservices.</p>
<p>Polaris&rsquo; service model includes namespaces, services and service instances.</p>
<h4 id="namespaces">Namespaces</h4>
<p>Namespaces provide a mechanism for logical isolation of resources under the same registry. Services named under the same namespace must be unique, but services with the same name are allowed to exist across namespaces. Namespaces are often used to distinguish between different environments or to isolate services between multiple services.</p>
<h4 id="service">Service</h4>
<p>Services are also logical concepts that provide service capabilities for a specific business domain. Examples include order services, user services, transfer services, etc.</p>
<h4 id="service-instance">Service Instance</h4>
<p>A service instance is a specific physical node under a service.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/2b9474164ce049c89cdd3917a88f9e4f.png" alt="Service Instance"></p>
<p>Spring Cloud Tencent provides some extended capabilities on top of the basic service registration discovery. First, Spring Cloud Tencent integrates some routing plugins from Polaris to enable dynamic up and down of service instances by changing the isolation status or weight value of the service instance in the Polaris console page, as shown in the figure above.</p>
<p>Spring Cloud Tencent also provides advanced features for multi-service registration and discovery. For example, if multiple departments or organizations within a company are using different service registries, when making decisions to unify the technology stack or migrate to the Polaris registry, you need to use a smooth way to transform the business instead of directly replacing the original SDK to connect to the Polaris registry. At this point, you can use Spring Cloud Tencent&rsquo;s multi-service registration and discovery capabilities to help developers transition their microservice applications through the awkward period of technology stack conversion.</p>
<p>Spring Cloud Tencent provides such a series of peripheral functions for service registration and discovery, improving the governance and control of microservice architecture.</p>
<h3 id="22-configuration-center-spring-cloud-tencent-polaris-config">2.2 Configuration Center (Spring Cloud Tencent Polaris Config)</h3>
<p>In the first half of this year Polaris started to support Configuration Center capabilities. The core configuration triad model for Polaris Configuration Center is</p>
<h4 id="namespace">Namespace</h4>
<p>A capability for logically isolating clusters, such as commonly used for isolated environments.</p>
<h4 id="filegroup">FileGroup</h4>
<p>A configuration file group, a collection of configuration files. In Spring Cloud Tencent, our recommended best practice is to have one application as a FileGroup, and for framework class configurations, the framework name is used as a FileGroup, for example dubbo.</p>
<h4 id="file">File</h4>
<p>Configuration file, e.g. properties, yml formatted configuration file. A configuration file is the smallest management unit, not a configuration item in a configuration file.</p>
<p>[Namespace, FileGroup, File] uniquely locates a configuration file. When we designed the model, we referred to the industry&rsquo;s mainstream configuration center products, and we believe that the concept of configuration file and configuration file group is the configuration domain model that is widely known and least understood by developers, such as the concept of local disk folders and files.</p>
<p>The core capabilities of the configuration center are configuration management capabilities and dynamic real-time push capabilities. In terms of configuration management, an application often has a very large number of configuration files, and how to clearly manage configuration files is a very important capability. When we designed the UI in the control panel, we pioneered to display the file names in the form of a tree with / as the separator. As shown in the figure below, you can divide the directory by application module, and through the directory method, you can clearly manage the cluttered configuration files under one application.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/5b5a2db4bd35482788a845ccd15abf09.png" alt="Configuration file management console"></p>
<p>In addition, for Spring Cloud integration, Spring Boot is known to automatically load the application.yml, application.properties, and the higher priority application-activeProfile.yml files in the application resources directory.</p>
<p>For the SpringCloudTencentPolarisConfig integration, we have followed this native configuration loading mechanism exactly. That is, SpringCloudTencentPolarisConfig will automatically load the application.yml and application-{activeProfile}.yml files under the application file group into the Spring container at startup. When users do the migration, they just need to upload all the configuration files in the resources directory to Polaris as is.</p>
<h3 id="23-service-routing-spring-cloud-tencent-polaris-router">2.3 Service Routing (Spring Cloud Tencent Polaris Router)</h3>
<p>In the microservices space, services have become very light and flexible due to the fine-grained splitting of services for deployment. It becomes more powerful when combined with k8s cloud-native extreme elasticity capabilities. However, the underlying Paas capability only provides the basic elasticity capability, and the real ability to leverage the capability needs to rely on the upper layer of traffic provisioning capabilities.</p>
<p>Looking at the Spring Cloud ecosystem, there are not many component suites that can deeply integrate with Spring Cloud to provide scenario-based service routing capabilities. Here is an explanation of scenario-based, service invocation framework based on certain rules to achieve the ability to achieve service routing we call the underlying atomic capabilities. Atomic capabilities are very general capabilities, but many times they are not directly used in specific business scenarios. For example, the common test environment grouping, proximity routing, blue-green release, etc. are called scenarios. Service routing can only really serve the business out of the box after doing scenarios.</p>
<p>Spring Cloud Tencent Polaris Router currently implements two kinds of scenario-based routing capabilities and a very flexible rule-based routing capability.</p>
<h4 id="metadata-routing">Metadata Routing</h4>
<p>Service instances are attached to a set of metadata, such as environmental information, room information, etc. Metadata routing simply means that the metadata information is used as the basis for routing in. This is still a bit abstract, so let&rsquo;s use a test environment example to explain.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/461893d4b9984a9eb669dbac065566e4.png" alt="Development environment diagram"></p>
<p>The above diagram is a very classic solution for resolving test environment conflicts. In one iteration, SvcA needs to be co-located with SvcD. When the team size is small, you can directly deploy the stable environment as development branch code and then co-locate it. However, when multiple development tasks are in parallel, there is contention for the environment. One solution is to deploy a full-linked environment for each development task independently, which is time-consuming and ineffective. The industry&rsquo;s most mainstream approach is shown above, where each development task subenvironment only needs to deploy a co-located application, and services on the link that are not in the subenvironment are routed back to the stable environment.</p>
<p>To achieve the above purpose, you only need to add the following two environment variables for each service deployment.</p>
<ul>
<li>SCT_METADATA_CONTENT_ENV=dev1</li>
<li>SCT_METADATA_CONTENT_TRANSITIVE=ENV</li>
</ul>
<p>The Spring Cloud Tencent Polaris Router component automatically reads the above environment variables and prioritizes each service call to the target instance with the same ENV value as the current instance.</p>
<p>Metadata routing is used in a wide range of scenarios, so check out the Github Wiki for more details.</p>
<h4 id="rule-routing">Rule Routing</h4>
<p>Metadata routing is essentially filtering based on the metadata of a service instance and is a built-in service routing capability to support specific and concrete scenarios. There is no need to issue any routing rules and it is very simple to use.</p>
<p>The actual business scenarios are very complex, such as the following typical business scenarios.</p>
<ul>
<li>Internal employees are routed to a set of production grayscale environments, while external normal users are routed to the production formal environment.</li>
<li>VIP customers are routed to a set of high security environment, and ordinary customers are routed to the normal environment.</li>
</ul>
<p>The above two business scenarios cannot be achieved through metadata routing. This is because business request parameters are involved, not system dimensional environment variables. Rule routing is a set of rule-based service routing implementations used to meet complex business scenarios.</p>
<p>A typical rule is shown in the following figure.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/d35bcfa291514f619b7e74b736fea8b7.png" alt="Routing Rules Configuration Console"></p>
<p>The meaning of the above diagram is: HTTP Query Param with uid parameter value of 100 invokes the instance grouping to ENV=gray. Most complex business scenarios can be described by routing rules.</p>
<p>For ease of use, Spring Cloud Tencent has a set of built-in expression tag rules that automatically parse tag values from HTTP requests. The currently supported expression rules are</p>
<ul>
<li>${http.query.xxx}</li>
<li>${http.header.xxx}</li>
<li>${http.cookie.xxx}</li>
<li>${http.method}</li>
<li>${http.uri}</li>
</ul>
<p>Rule routing is relatively complex, so check out the Github Wiki for more details.</p>
<h4 id="proximity-routing">Proximity Routing</h4>
<p>Production environment services often require multiple cabinets, multiple rooms, and multiple geographic deployments for high availability, disaster recovery, and other capabilities.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/9f38111b102f49208096e9f6c9a374ab.png" alt="Deployment Model Diagram"></p>
<p>As shown in the figure above, the range is from small to large: Campus &lt; Zone &lt; Region &lt; All where Campus, Zone and Region are uniformly defined as metadata in the service registration and discovery domain model, which is a special kind of location metadata.</p>
<p>As the name implies, service invocation selects the target service instance according to the priority of same Campus, same Zone, and same Region in descending order. The core is to reduce the network time consumed by service invocation due to physical distance. Essentially, proximity routing is a type of metadata routing based on a specific set of location metadata.</p>
<p>To implement proximity routing with Spring Cloud Tencent, simply add the following environment variables to the service instance.</p>
<ul>
<li>SCT_METADATA_CAMPUS</li>
<li>SCT_METADATA_ZONE</li>
<li>SCT_METADATA_REGION</li>
</ul>
<h3 id="24-service-flow-limiting-spring-cloud-tencent-polaris-ratelimit">2.4 Service Flow Limiting (Spring Cloud Tencent Polaris Ratelimit)</h3>
<p>With growing business development, network requests are increasing, leading to bursts of traffic on the service side of business applications in some scenarios, and therefore some protection needs to be given to the service provider. Through the service flow limiting function, developers can control the QPS to avoid being overwhelmed by transient traffic spikes and thus guarantee the high availability of the system. There are two main application scenarios for service flow limiting, <strong>overload protection</strong> and <strong>frequent requests</strong>. Spring Cloud Tencent has built-in flow limiting filters for Spring Web and Spring WebFlux scenarios to help businesses quickly access Polaris&rsquo; flow limiting capabilities.</p>
<p>Spring Cloud Tencent supports two types of service flow limiting capabilities provided by Polaris, i.e., standalone flow limiting and distributed flow limiting.</p>
<h4 id="single-machine-flow-restriction">Single machine flow restriction</h4>
<p>Single-machine flow limiting is a level of flow limiting for a single deployed instance, and the traffic limit only takes effect for the current deployed instance and is not shared, as shown in the figure below. Single machine flow restriction is generally applied to protect the service itself from being broken, and the quota is calculated according to the capacity of each single machine of the service cluster.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/3cb7c65295944a708a22732ece41b666.png" alt="Single machine current limit example diagram"></p>
<p>The effect of single-machine flow limiting is divided into fast failure and even queuing. Fast failure means that when the QPS reaches the quota specified by the flow limiting rule, a flow limiting type error response is immediately returned to all requests that exceed the threshold. Uniform queuing is a peak and valley limiting method based on the leaky bucket algorithm, helping the server to ensure a uniform processing state when the traffic flood arrives, so that some requests can be processed after a period of queuing and waiting time, instead of failing directly. See the official Github Wiki for more details on even queuing.</p>
<h4 id="distributed-flow-limiting">Distributed Flow Limiting</h4>
<p>Distributed flow limiting is for flow limiting at the level of all instances under a service, where multiple service instances share the same global traffic limit, as shown in the figure below. Distributed flow limiting is generally applied to protect third-party services or public services (e.g., protecting databases); or flow limiting at the gateway level for back-end services that are accessed through the gateway.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/ea6766c83ad240c0b2d726f5cebbea45.png" alt="Distributed flow limiting example diagram"></p>
<p>Spring Cloud Tencent provides the ability to customize flow restriction rules, so developers can customize the corresponding flow restriction rules according to their business scenarios.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/2a61ded3949b4f66a3d37c9dcbf0efd1.png" alt="Flow Restriction Rules Configuration Console"></p>
<h3 id="25-service-circuitbreaker-spring-cloud-tencent-polaris-circuitbreaker">2.5 Service Circuitbreaker (Spring Cloud Tencent Polaris Circuitbreaker)</h3>
<p>In microservices architecture operation and maintenance scenarios, sometimes there is a single point of service instance failure, and if it cannot be removed in time, then there will still be requests forwarded to the failed service instance.Spring Cloud Tencent provides the service Circuitbreaker capability to determine whether the called party&rsquo;s service is failing by reporting the results of each inter-service call, and then to detect it. It then blocks it and starts a timed task to probe the Circuitbreaker instance to live. After the recovery condition is reached, it is half-opened for recovery. After the half-open recovery, a small number of requests are released for real business request probing. And based on the result of real business probing, we determine whether the recovery is complete. This feature can effectively weed out abnormal service instances and provides an important help for service governance.</p>
<h4 id="summary-1">Summary</h4>
<p>The above is just a brief introduction to some of the Spring Cloud Tencent capabilities, to learn more about them please visit our official Github page.</p>
<h2 id="3-planning-and-vision">3. Planning and Vision</h2>
<p>At the beginning of the article, we mentioned why we want to do Spring Cloud Tencent, we strongly believe that Spring Cloud will remain the mainstream solution for microservices in Java domain for a long time. We hope to combine with Polaris&rsquo; one-stop microservice capability to lower the threshold of microservice architecture and provide a full set of microservice solutions for enterprises out of the box. This will enable enterprises to focus more on their own business development and improve productivity.</p>
<p>A product that works well needs to withstand rich scenarios to polish stability, ease of use, and continuous improvement of its own product power. The following are some of the points we currently think of that need support and improvement. Of course, as the product develops and more and more users use it, there will be more requests and we will continue to iterate on it.</p>
<p><img src="https://cdn.jsdelivr.net/gh/springcloud-community/image-bucket/2022/06/21/28d87114dac34f86b2c9d2b5e331043f.png" alt="SCT Planning"></p>
<p>Github: <a href="https://github.com/Tencent/spring-cloud-tencent">https://github.com/Tencent/spring-cloud-tencent</a></p>
<blockquote>
<p>Reference <a href="https://www.oschina.net/news/200252/spring-cloud-tencent-open-source">https://www.oschina.net/news/200252/spring-cloud-tencent-open-source</a></p>
</blockquote>

    </div>

    
    


    
    

    <footer class="post-footer">
      <div class="post-tags">
          <a href="https://www.springcloud.io/tags/spring-cloud-tencent/">spring-cloud-tencent</a>
          
        </div>

      
      <nav class="post-nav">
        
        
          <a class="next" href="/post/2022-06/spring-security-inheritablethreadlocal/">
            <span class="next-text nav-default">SpringSecurity - Getting information about a logged-in user in a sub-thread</span>
            <span class="prev-text nav-mobile">Next</span>
            
            <i class="iconfont">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="18" height="18">
  <path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311 0.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889 0.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-0.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"></path>
</svg>

            </i>
          </a>
      </nav>
    </footer>
  </article>

  
  

  
  

  

  
  

  

  

  

    

  

        </div>
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="icon-links">
  
  
    <a href="https://twitter.com/springcloud_io" rel="me noopener" class="iconfont"
      title="twitter"  target="_blank"
      >
      <svg class="icon" viewBox="0 0 1264 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="36" height="36">
  <path d="M1229.8616 18.043658c0 0-117.852626 63.135335-164.151872 67.344358-105.225559-164.151872-505.082682-92.598492-437.738325 223.078185C278.622548 312.675223 89.216542 47.506814 89.216542 47.506814s-117.852626 189.406006 75.762402 345.139833C127.097743 396.85567 55.544363 371.601535 55.544363 371.601535S26.081207 535.753407 253.368414 615.724832c-21.045112 29.463156-113.643603 8.418045-113.643603 8.418045s25.254134 143.10676 231.496229 180.987961c-143.10676 130.479693-387.230056 92.598492-370.393967 105.225559 206.242095 189.406006 1119.599946 231.496229 1128.01799-643.98042C1179.353331 249.539887 1263.533778 123.269217 1263.533778 123.269217s-130.479693 37.881201-138.897738 33.672179C1225.652577 98.015083 1229.8616 18.043658 1229.8616 18.043658"></path>
</svg>

    </a>


<a href="https://www.springcloud.io/index.xml" rel="noopener alternate" type="application/rss&#43;xml"
    class="iconfont" title="rss" target="_blank">
    <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="30" height="30">
  <path d="M819.157333 1024C819.157333 574.592 449.408 204.8 0 204.8V0c561.706667 0 1024 462.293333 1024 1024h-204.842667zM140.416 743.04a140.8 140.8 0 0 1 140.501333 140.586667A140.928 140.928 0 0 1 140.074667 1024C62.72 1024 0 961.109333 0 883.626667s62.933333-140.544 140.416-140.586667zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352 0 678.784 306.517333 678.784 678.826667z"></path>
</svg>

  </a>
   
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - <a class="theme-link" href="https://github.com/xianmin/hugo-theme-jane">Jane</a>
  </span>

  <span class="copyright-year">
    &copy;
    
      2021 -
    2022
    <span class="heart">
      
      <i class="iconfont">
        <svg class="icon" viewBox="0 0 1025 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="14" height="14">
  <path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7 0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1 0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2 0.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2 0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3 0.1-42.5-8-83.6-24-122.2z"
   fill="#8a8a8a"></path>
</svg>

      </i>
    </span></span>

  
  

  
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont">
        
        <svg class="icon" viewBox="0 0 1024 1024" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  width="35" height="35">
  <path d="M510.866688 227.694839 95.449397 629.218702l235.761562 0-2.057869 328.796468 362.40389 0L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777l894.052392 0 0 131.813095L63.840492 195.775872 63.840492 63.962777 63.840492 63.962777zM63.840492 63.962777"></path>
</svg>

      </i>
    </div>
  </div>
  
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>




<script type="text/javascript" src="/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js" integrity="sha256-3uQyMBJ6c9A5pzRRD6iWyJw8fODPC&#43;DHp0M/j9abdtw=" crossorigin="anonymous"></script>












  
    <script type="text/javascript" src="/js/load-photoswipe.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe.min.js"></script>
    <script type="text/javascript" src="/lib/photoswipe/photoswipe-ui-default.min.js"></script>
  











  <script>
    $("#openSearch, #openSearchMobile").click(function(){
      $(".modal-dialog").addClass("visible");
    });

    $("#closeSearch").click(function(){
      $(".modal-dialog").removeClass("visible");
    });

    $(document).click(function(event) {
    
      if (!$(event.target).closest(".modal-content, #openSearch, #openSearchMobile").length) {
        $("body").find(".modal-dialog").removeClass("visible");
      }
    });
  </script>





</body>
</html>
